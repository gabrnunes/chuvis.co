/*! chuvisco 04-02-2022 */
function upVote(e,t,n){var a=new XMLHttpRequest;a.open("POST",e,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send("action=update_post_likes&post_id="+t),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=a.responseText,t=JSON.parse(e);if(t.success)n.querySelector("span").innerHTML=t.count,n.classList.add("already-voted"),n.classList.remove("can-vote")}}}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".can-vote").forEach(function(t){t.addEventListener("click",function(e){return upVote(t.dataset.url,t.dataset.postId,t),e.preventDefault,!1})})},!1);